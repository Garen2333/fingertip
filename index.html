<!DOCTYPE html>
<html lang="en-US">

<head>

	<meta charset="UTF-8">
	<title>FingerTip Mobile v0.03</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="main.css">
	<script type="text/javascript" src="./smoothie.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
	<script src="./index.js" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	




</head>


<body onload="createTimeline();" onresize="adjust_width();" style="background-color: #EDEFE3;text-align: center">
	<br />

	<div id="stage" style="margin-bottom: 0px;">
		<button class="button button1" type="button" onclick="startProcess()" style="width: 30%;">
			Start
		</button>
		
		<!-- <button class="button button2" type="button" onclick="bleDisconnect()">
			Disconnect From Device
		</button> -->
	</div>
	
	<div style="display: none;">
		<label for="log" style="font-size: 20px;">Log</label><br>
		<textarea id="log" rows="5" cols="50" style="width: 1000px;"></textarea>
	</div>
	
	<br />

	<!-- Parameter Selection Buttons -->


	<div class="tab" >
		<button class="tablinks" onclick="setActiveContentType('numerical')">Numerical</button>
		<button class="tablinks" onclick="setActiveContentType('chart')">Graphic</button>
	</div>
	
	<!-- <div id="chart-area" style="text-align: center;">
		<br />Glucose<br />
		<canvas id="rawchart" width="1200" height="120"></canvas><br />

		<br />Lactate<br />
		<canvas id="ecgchart" width="1200" height="120"></canvas><br />

		<br />Vitamin C<br />
		<canvas id="ecgchart" width="1200" height="120"></canvas><br />

		<br />L-dopa<br />
		<canvas id="ecgchart" width="1200" height="120"></canvas><br />
	</div> -->
	

	


	<div id="glucose" class="tabcontent" style="display: block;">

		<div style="background-color: #f8d7da; border-radius: 20px; height: 30%;">
			<div class="chart" style="padding-top: 2%; display: none;" >
				<canvas id="glucosechart" style="border-radius: 20px;"></canvas>
			</div>
	
	
			<div class="numerical">
				<p class="lead" style="padding-top: 4%;">Current: <span id="glucoseCur">0</span> mg/dL</p>
				<p class="lead">Max: <span id="glucoseMax">0</span></span> mg/dL</p>
				<p class="lead">Mean: <span id="glucoseMean">0</span> mg/dL</p>
				<p class="lead" style="padding-bottom: 3.5%;">Min: <span id="glucoseMin">0</span> mg/dL</p>
			</div>


		</div>
		
		
		
	</div>

	<div id="lactate" class="tabcontent">
		
		


		<div style="background-color: #cce5ff; border-radius: 20px; height: 30%;">
			<div class="chart" style="padding-top:2%;" >
				<canvas id="lactatechart" style="border-radius: 20px;"></canvas>
			</div>
			
			
			<div class="numerical" >
				<p class="lead" style="padding-top: 4%;">Current: <span id="lactateCur">0</span> mg/dL</p>
				<p class="lead">Max: <span id="lactateMax">0</span> mg/dL</p>
				<p class="lead">Mean: <span id="lactateMean">0</span> mg/dL</p>
				<p class="lead" style="padding-bottom: 3.5%;">Min: <span id="lactateMin">0</span> mg/dL</p>
			</div>


		</div>
		
	</div>


	<div id="vita-c" class="tabcontent">
		
		

		<div style="background-color: #d4edda; border-radius: 20px; height: 30%;">
			<div class="chart" style="padding-top:2%;">
				<canvas id="vitaminchart" style="border-radius: 20px;"></canvas>
			</div>
	
			<div class="numerical" >
				<p class="lead" style="padding-top: 4%;">Current: <span id="vitamincCur">0</span> mg/dL</p>
				<p class="lead">Max: <span id="vitamincMax">0</span> mg/dL</p>
				<p class="lead">Mean: <span id="vitamincMean">0</span> mg/dL</p>
				<p class="lead" style="padding-bottom: 3.5%;">Min: <span id="vitamincMin">0</span> mg/dL</p>
			</div>


		</div>
		
	</div>

	<div id="l-dopa" class="tabcontent">
		
		

		<div style="background-color: #fff3cd; border-radius: 20px; height: 30%;">
			<div class="chart" style="padding-top:2%;">
				<canvas id="ldopachart" style="border-radius: 20px;"></canvas>
			</div>
			
			<div class="numerical">
				<p class="lead" style="padding-top: 4%;">Current: <span id="ldopaCur">0</span> mg/dL</p>
				<p class="lead">Max: <span id="ldopaMax">0</span> mg/dL</p>
				<p class="lead">Mean: <span id="ldopaMean">0</span> mg/dL</p>
				<p class="lead" style="padding-bottom: 3.5%;">Min: <span id="ldopaMin">0</span> mg/dL</p>
			</div>


		</div>
		
	</div>

	<div class="tab" style="padding: 0;" >
		<button class="tablinks" onclick="setActiveParameter('glucose')" style="background-color: #f8d7da; margin: 0;">Glucose</button>
		<button class="tablinks" onclick="setActiveParameter('lactate')" style="background-color: #cce5ff; margin: 0;">Lactate</button>
		<button class="tablinks" onclick="setActiveParameter('vita-c')" style="background-color: #d4edda; margin: 0;">Vita C</button>
		<button class="tablinks" onclick="setActiveParameter('l-dopa')" style="background-color: #fff3cd; margin: 0;">L-Dopa</button>
	</div>
	
	
	
	<!-- <h2 style="text-align: left; padding-left: 5%;">Past</h2>
	
	<div class="tab" >
		<button class="tablinks" >30 Minutes</button>
		<button class="tablinks" >1 hour</button>
		<button class="tablinks" >3 hours</button>
		<button class="tablinks" >6 hours</button>
	</div> -->


	<div id="past-glucose" class="" style="display: flex; background-color: #f8d7da; border-radius: 20px; align-items: center;">

		<div class="container" style="display: flex; align-items: center;">
			<div class="icon-label" style="display: flex; flex-direction: column; align-items: center;">
				<img src="icon/glucose.png" style="width: 100px; padding-top: 8px; padding-bottom: 8px;">
				<label style="font-size: larger; font-weight: 500; margin-top: 8px;">Glucose</label>
			</div>
			<div class="chart" style="flex-grow: 1; padding-left: 20px;">
				<canvas id="pastglucosechart"></canvas>
			</div>
		</div>
		<script>
			// Function to initialize and update the chart
			function initializeChart() {
				// Function to initialize a chart with specific settings
				function createChart(canvasId, label, borderColor) {
					// Set canvas dimensions
					var canvas = document.getElementById(canvasId);
					canvas.height = window.innerHeight * 0.20;
					canvas.width = window.innerWidth * 0.4;

					// Get the context and create the chart
					var ctx = canvas.getContext('2d');
					var chart = new Chart(ctx, {
						type: 'line',
						data: {
							labels: [], // Time labels
							datasets: [{
								label: label,
								data: [], // Data points
								borderColor: borderColor,
								fill: false,
								pointRadius: 5, // Increase point size to make them visible
							}]
						},
						options: {
							responsive: true,
							maintainAspectRatio: false,
							scales: {
								x: {
									type: 'linear',
									position: 'bottom',
									title: {
										display: true,
										text: 'Time (s)'
									}
								},
								y: {
									beginAtZero: true,
									title: {
										display: true,
										text: 'Value'
									}
								}
							}
						}
					});

					// Function to add new data points every 15 seconds
					var time = 0; // Initialize time counter
					function addDataPoint() {
						time += 15; // Increment time by 15 seconds
						var newDataValue = Math.floor(Math.random() * 100); // Simulate a new data value

						chart.data.labels.push(time); // Add the time to the labels array
						chart.data.datasets[0].data.push(newDataValue); // Add the new data value to the dataset

						// Update the chart to reflect the new data
						chart.update();
					}

					// Add a new data point every 15 seconds
					setInterval(addDataPoint, 1000);

					// Add the first data point immediately
					addDataPoint();

					// Recalculate chart size when window is resized
					window.addEventListener('resize', function() {
						canvas.height = window.innerHeight * 0.20;
						canvas.width = window.innerWidth * 0.4;
						chart.resize();
					});

					return chart;
				}

				// Initialize each chart with the specific color and label
				var glucoseChart = createChart('pastglucosechart', 'Glucose Data', 'pink');
				var lactateChart = createChart('pastlactatechart', 'Lactate Data', 'lightblue');
				var vitaminCChart = createChart('pastvitaminchart', 'Vitamin C Data', 'lightgreen');
			}



			window.onload = function() {
				initializeChart();
			};
		</script>
		
		
		
	</div>

	<div id="past-lactate" class="" style="display: flex; background-color: #cce5ff; border-radius: 20px; align-items: center;">

		<div class="icon-label" style="display: flex; flex-direction: column; align-items: center;">
			<img src="icon/lactate.gif" style="width: 100px;">
			<label style="font-size: larger; font-weight: 500; margin-top: 8px;">Lactate</label>
		</div>
		<div class="chart" style="flex-grow: 1; padding-left: 20px;">
			<canvas id="pastlactatechart"></canvas>
		</div>
		
		
		
	</div>


	<div id="past-vita-c" class="" style="display: flex; background-color: #d4edda; border-radius: 20px; align-items: center; padding: 10px;">

		<div class="icon-label" style="display: flex; flex-direction: column; align-items: center;">
			<img src="icon/vitaminC.png" style="width: 100px;">
			<label style="font-size: larger; font-weight: 500; margin-top: 8px;">Vita-C</label>
		</div>
		<div class="chart" style="flex-grow: 1; padding-left: 20px;">
			<canvas id="pastvitaminchart"></canvas>
		</div>
		
		
		
	</div>

	<div id="past-l-dopa" class="" style="display: flex; background-color: #fff3cd; border-radius: 20px; align-items: center; padding: 10px;">

		<div class="container" style="display: flex; align-items: center; margin-bottom: 20px;">
			<div class="icon-label" style="display: flex; flex-direction: column; align-items: center;">
				<img src="icon/ldopa.png" style="width: 100px;">
				<label style="font-size: larger; font-weight: 500; margin-top: 8px;">L-Dopa</label>
			</div>
			<div class="chart" style="flex-grow: 1; padding-left: 20px;">
				<canvas id="pastldopachart"></canvas>
			</div>
		</div>
		
		
		
		
	</div>


	


	<div id="spinner" class="loader center" style="display:none;"></div>
	<!-- <canvas id="bpchart" width="1200" height="300"></canvas><br /> -->
	

	

	
</body>

</html>

<style>
	#stage {
		width: 90%;
	
		display: flex;
		
		align-items: center;
		
		
		margin: auto;


	}
	.chart {
		
		
		display: flex; 
		align-items: center; 
		justify-content: center;

	}

	.lead{
		margin: 0px;
		text-align: left;
		font-size: large;
		font-weight: 500;
		padding-left: 30%;


	}


</style>